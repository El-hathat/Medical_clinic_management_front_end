{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/Services/http.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/app/Services/user-auth-service.service\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"../started/started.component\";\nclass LoginComponent {\n  constructor(httpservice, router, userAuth) {\n    this.httpservice = httpservice;\n    this.router = router;\n    this.userAuth = userAuth;\n  }\n  ngOnInit() {\n    this.initForm();\n  }\n  initForm() {\n    this.formGroup = new FormGroup({\n      username: new FormControl(\"\", [Validators.required]),\n      password: new FormControl(\"\", [Validators.required])\n    });\n  }\n  loginProcess() {\n    if (this.formGroup.valid) {\n      this.httpservice.getToken(this.formGroup.value).subscribe(result => {\n        /*console.log(result);\n                  this.userAuth.setRoles(result.user.role);\n        \n                  const role = result.user.role[0].rolename;\n                if (role === 'Admin') {\n                  this.router.navigate(['/admin']);\n                } else {\n                  this.router.navigate(['/user']);\n        \n                }*/\n        this.httpservice.md = result.med;\n        console.log(this.httpservice.md.prenom);\n        console.log(this.httpservice.md.prenom);\n        console.log('____________tt___________');\n        //console.log(result.user.username);\n        //console.log(this.httpservice.login(result.token));\n        //console.log(this.httpservice.getCurrentUser);\n        alert(this.httpservice.md.role);\n        if (this.httpservice.md.role == 'medcin') {\n          this.router.navigate(['Admin']);\n        } else if (this.httpservice.md.role == 'seretaire') {\n          console.log(this.HttpService.md.etat);\n          this.router.navigate(['patients']);\n        }\n      }, error => {\n        alert(\"pwd or email is incorrect\");\n      });\n    }\n  }\n}\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.HttpService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.UserAuthServiceService));\n};\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  decls: 36,\n  vars: 1,\n  consts: [[1, \"form-box\"], [2, \"color\", \"azure\"], [\"id\", \"login\", 1, \"input-group-login\", 3, \"formGroup\", \"ngSubmit\"], [\"type\", \"text\", \"placeholder\", \"Email Id\", \"name\", \"email\", \"formControlName\", \"username\", 1, \"input-field\"], [\"type\", \"password\", \"placeholder\", \"Enter Password\", \"name\", \"pwd\", \"formControlName\", \"password\", 1, \"input-field\"], [\"type\", \"checkbox\", 1, \"check-box\"], [\"type\", \"submit\", 1, \"submit-btn\"], [\"type\", \"submit\", \"routerLink\", \"/register\", 1, \"cr\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"app-started\");\n      i0.ɵɵelementStart(1, \"div\", 0)(2, \"h1\", 1);\n      i0.ɵɵtext(3, \" Log in \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"form\", 2);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_4_listener() {\n        return ctx.loginProcess();\n      });\n      i0.ɵɵelement(5, \"input\", 3)(6, \"input\", 4)(7, \"input\", 5);\n      i0.ɵɵelementStart(8, \"span\");\n      i0.ɵɵtext(9, \"Remember Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"button\", 6);\n      i0.ɵɵtext(11, \" Log in\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(12, \"br\")(13, \"br\")(14, \"br\")(15, \"br\")(16, \"br\")(17, \"br\")(18, \"br\")(19, \"br\")(20, \"br\")(21, \"br\")(22, \"br\")(23, \"br\")(24, \"br\")(25, \"br\")(26, \"br\")(27, \"br\")(28, \"br\")(29, \"br\")(30, \"br\")(31, \"br\")(32, \"hr\")(33, \"br\");\n      i0.ɵɵelementStart(34, \"button\", 7);\n      i0.ɵɵtext(35, \"cr\\u00E9er nouveau compte\");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"formGroup\", ctx.formGroup);\n    }\n  },\n  dependencies: [i2.RouterLink, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.FormGroupDirective, i4.FormControlName, i5.StartedComponent],\n  styles: [\"*[_ngcontent-%COMP%]\\r\\n{\\r\\n    margin: 0;\\r\\n    padding: 0;\\r\\n    box-sizing: border-box;\\r\\n}\\r\\n.full-page[_ngcontent-%COMP%]\\r\\n{\\r\\n    height: 100%;\\r\\n\\twidth: 100%;\\r\\n\\tbackground-image: linear-gradient(rgba(0,0,0,0.4),rgba(0,0,0,0.4));\\r\\n\\tbackground-position: center;\\r\\n\\tbackground-size: cover;\\r\\n\\tposition: absolute;\\r\\n}\\r\\n.navbar[_ngcontent-%COMP%]\\r\\n{\\r\\n    display: flex;\\r\\n    align-items: center;\\r\\n    padding: 20px;\\r\\n    padding-left: 50px;\\r\\n    padding-right: 30px;\\r\\n    padding-top: 50px;\\r\\n}\\r\\nnav[_ngcontent-%COMP%]\\r\\n{\\r\\n    flex: 1;\\r\\n    text-align: right;\\r\\n}\\r\\nnav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] \\r\\n{\\r\\n    display: inline-block;\\r\\n    list-style: none;\\r\\n}\\r\\nnav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]\\r\\n{\\r\\n    display: inline-block;\\r\\n    margin-right: 70px;\\r\\n}\\r\\nnav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]\\r\\n{\\r\\n    text-decoration: none;\\r\\n    font-size: 20px;\\r\\n    color: white;\\r\\n    font-family: sans-serif;\\r\\n}\\r\\nnav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]\\r\\n{\\r\\n    font-size: 20px;\\r\\n    color: white;\\r\\n    outline: none;\\r\\n    border: none;\\r\\n    background: transparent;\\r\\n    cursor: pointer;\\r\\n    font-family: sans-serif;\\r\\n}\\r\\nnav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover\\r\\n{\\r\\n    color: aqua;\\r\\n}\\r\\nnav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover\\r\\n{\\r\\n    color: aqua;\\r\\n}\\r\\na[_ngcontent-%COMP%]\\r\\n{\\r\\n    text-decoration: none;\\r\\n    color: palevioletred;\\r\\n    font-size: 28px;\\r\\n}\\r\\n#login-form[_ngcontent-%COMP%]\\r\\n{\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n.form-box[_ngcontent-%COMP%]\\r\\n{\\r\\n    width:380px;\\r\\n\\theight:480px;\\r\\n\\tposition:relative;\\r\\n\\tmargin:9% auto;\\r\\n\\tbackground:rgba(0,0,0,0.3);\\r\\n\\tpadding:10px;\\r\\n    overflow: hidden;\\r\\n\\talign-items: center;\\r\\n\\tjustify-content: center;\\r\\n}\\r\\n.button-box[_ngcontent-%COMP%]\\r\\n{\\r\\n\\twidth:220px;\\r\\n\\tmargin:35px auto;\\r\\n\\tposition:relative;\\r\\n\\tbox-shadow: 0 0 20px 9px #ff61241f;\\r\\n\\tborder-radius: 30px;\\r\\n}\\r\\n.toggle-btn[_ngcontent-%COMP%]\\r\\n{\\r\\n\\tpadding:10px 30px;\\r\\n\\tcursor:pointer;\\r\\n\\tbackground:transparent;\\r\\n\\tborder:0;\\r\\n\\toutline: none;\\r\\n\\tposition: relative;\\r\\n}\\r\\n#btn[_ngcontent-%COMP%]\\r\\n{\\r\\n\\ttop: 0;\\r\\n\\tleft:0;\\r\\n\\tposition: absolute;\\r\\n\\twidth: 110px;\\r\\n\\theight: 100%;\\r\\n\\tbackground: #F3C693;\\r\\n\\tborder-radius: 30px;\\r\\n\\ttransition: .5s;\\r\\n}\\r\\nh1[_ngcontent-%COMP%]{\\r\\n\\ttop: 80px;\\r\\n\\tposition:absolute;\\r\\n\\tmargin-left: 120px;\\r\\n}\\r\\n.input-group-login[_ngcontent-%COMP%]\\r\\n{\\r\\n\\ttop: 150px;\\r\\n\\tposition:absolute;\\r\\n\\twidth:280px;\\r\\n\\ttransition:.5s;\\r\\n}\\r\\n.input-group-register[_ngcontent-%COMP%]\\r\\n{\\r\\n    top: 120px;\\r\\n\\tposition:absolute;\\r\\n\\twidth:280px;\\r\\n\\ttransition:.5s;\\r\\n}\\r\\n.input-field[_ngcontent-%COMP%]\\r\\n{\\r\\n\\twidth: 100%;\\r\\n\\tpadding:10px 0;\\r\\n\\tmargin:5px 0;\\r\\n\\tborder-left:0;\\r\\n\\tborder-top:0;\\r\\n\\tborder-right:0;\\r\\n\\tborder-bottom: 1px solid #999;\\r\\n\\toutline:none;\\r\\n\\tbackground: transparent;\\r\\n}\\r\\n.submit-btn[_ngcontent-%COMP%]\\r\\n{\\r\\n\\twidth: 85%;\\r\\n\\tpadding: 10px 30px;\\r\\n\\tcursor: pointer;\\r\\n\\tdisplay: block;\\r\\n\\tmargin: auto;\\r\\n\\tbackground: #F3C693;\\r\\n\\tborder: 0;\\r\\n\\toutline: none;\\r\\n\\tborder-radius: 30px;\\r\\n}\\r\\n\\r\\n.check-box[_ngcontent-%COMP%]\\r\\n{\\r\\n\\tmargin: 30px 10px 34px 0;\\r\\n}\\r\\nspan[_ngcontent-%COMP%]\\r\\n{\\r\\n\\tcolor:#777;\\r\\n\\tfont-size:12px;\\r\\n\\tbottom:68px;\\r\\n\\tposition:absolute;\\r\\n}\\r\\n#login[_ngcontent-%COMP%]\\r\\n{\\r\\n\\tleft:50px;\\r\\n}\\r\\n#login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]\\r\\n{\\r\\n\\tcolor:white;\\r\\n\\tfont-size:15;\\r\\n}\\r\\n#register[_ngcontent-%COMP%]\\r\\n{\\r\\n\\tleft:450px;\\r\\n}\\r\\n#register[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]\\r\\n{\\r\\n\\tcolor:white;\\r\\n\\tfont-size: 15;\\r\\n}\\r\\n.cr[_ngcontent-%COMP%]\\r\\n{\\r\\n\\twidth: 65%;\\r\\n\\tpadding: 10px 30px;\\r\\n\\tcursor: pointer;\\r\\n\\tdisplay: block;\\r\\n\\tmargin: auto;\\r\\n\\tbackground: #1d3ef7;\\r\\n\\tborder: 0;\\r\\n\\toutline: none;\\r\\n\\tborder-radius: 30px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvQ29tcG9uZW5ldHMvbG9naW4vbG9naW4uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0E7O0lBRUksU0FBUztJQUNULFVBQVU7SUFDVixzQkFBc0I7QUFDMUI7QUFDQTs7SUFFSSxZQUFZO0NBQ2YsV0FBVztDQUNYLGtFQUFrRTtDQUNsRSwyQkFBMkI7Q0FDM0Isc0JBQXNCO0NBQ3RCLGtCQUFrQjtBQUNuQjtBQUNBOztJQUVJLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsYUFBYTtJQUNiLGtCQUFrQjtJQUNsQixtQkFBbUI7SUFDbkIsaUJBQWlCO0FBQ3JCO0FBQ0E7O0lBRUksT0FBTztJQUNQLGlCQUFpQjtBQUNyQjtBQUNBOztJQUVJLHFCQUFxQjtJQUNyQixnQkFBZ0I7QUFDcEI7QUFDQTs7SUFFSSxxQkFBcUI7SUFDckIsa0JBQWtCO0FBQ3RCO0FBQ0E7O0lBRUkscUJBQXFCO0lBQ3JCLGVBQWU7SUFDZixZQUFZO0lBQ1osdUJBQXVCO0FBQzNCO0FBQ0E7O0lBRUksZUFBZTtJQUNmLFlBQVk7SUFDWixhQUFhO0lBQ2IsWUFBWTtJQUNaLHVCQUF1QjtJQUN2QixlQUFlO0lBQ2YsdUJBQXVCO0FBQzNCO0FBQ0E7O0lBRUksV0FBVztBQUNmO0FBQ0E7O0lBRUksV0FBVztBQUNmO0FBQ0E7O0lBRUkscUJBQXFCO0lBQ3JCLG9CQUFvQjtJQUNwQixlQUFlO0FBQ25CO0FBQ0E7O0lBRUksYUFBYTtBQUNqQjs7QUFFQTs7SUFFSSxXQUFXO0NBQ2QsWUFBWTtDQUNaLGlCQUFpQjtDQUNqQixjQUFjO0NBQ2QsMEJBQTBCO0NBQzFCLFlBQVk7SUFDVCxnQkFBZ0I7Q0FDbkIsbUJBQW1CO0NBQ25CLHVCQUF1QjtBQUN4QjtBQUNBOztDQUVDLFdBQVc7Q0FDWCxnQkFBZ0I7Q0FDaEIsaUJBQWlCO0NBQ2pCLGtDQUFrQztDQUNsQyxtQkFBbUI7QUFDcEI7QUFDQTs7Q0FFQyxpQkFBaUI7Q0FDakIsY0FBYztDQUNkLHNCQUFzQjtDQUN0QixRQUFRO0NBQ1IsYUFBYTtDQUNiLGtCQUFrQjtBQUNuQjtBQUNBOztDQUVDLE1BQU07Q0FDTixNQUFNO0NBQ04sa0JBQWtCO0NBQ2xCLFlBQVk7Q0FDWixZQUFZO0NBQ1osbUJBQW1CO0NBQ25CLG1CQUFtQjtDQUNuQixlQUFlO0FBQ2hCO0FBQ0E7Q0FDQyxTQUFTO0NBQ1QsaUJBQWlCO0NBQ2pCLGtCQUFrQjtBQUNuQjtBQUNBOztDQUVDLFVBQVU7Q0FDVixpQkFBaUI7Q0FDakIsV0FBVztDQUNYLGNBQWM7QUFDZjtBQUNBOztJQUVJLFVBQVU7Q0FDYixpQkFBaUI7Q0FDakIsV0FBVztDQUNYLGNBQWM7QUFDZjtBQUNBOztDQUVDLFdBQVc7Q0FDWCxjQUFjO0NBQ2QsWUFBWTtDQUNaLGFBQWE7Q0FDYixZQUFZO0NBQ1osY0FBYztDQUNkLDZCQUE2QjtDQUM3QixZQUFZO0NBQ1osdUJBQXVCO0FBQ3hCO0FBQ0E7O0NBRUMsVUFBVTtDQUNWLGtCQUFrQjtDQUNsQixlQUFlO0NBQ2YsY0FBYztDQUNkLFlBQVk7Q0FDWixtQkFBbUI7Q0FDbkIsU0FBUztDQUNULGFBQWE7Q0FDYixtQkFBbUI7QUFDcEI7O0FBRUE7O0NBRUMsd0JBQXdCO0FBQ3pCO0FBQ0E7O0NBRUMsVUFBVTtDQUNWLGNBQWM7Q0FDZCxXQUFXO0NBQ1gsaUJBQWlCO0FBQ2xCO0FBQ0E7O0NBRUMsU0FBUztBQUNWO0FBQ0E7O0NBRUMsV0FBVztDQUNYLFlBQVk7QUFDYjtBQUNBOztDQUVDLFVBQVU7QUFDWDtBQUNBOztDQUVDLFdBQVc7Q0FDWCxhQUFhO0FBQ2Q7QUFDQTs7Q0FFQyxVQUFVO0NBQ1Ysa0JBQWtCO0NBQ2xCLGVBQWU7Q0FDZixjQUFjO0NBQ2QsWUFBWTtDQUNaLG1CQUFtQjtDQUNuQixTQUFTO0NBQ1QsYUFBYTtDQUNiLG1CQUFtQjtBQUNwQiIsInNvdXJjZXNDb250ZW50IjpbIlxyXG4qXHJcbntcclxuICAgIG1hcmdpbjogMDtcclxuICAgIHBhZGRpbmc6IDA7XHJcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG59XHJcbi5mdWxsLXBhZ2Vcclxue1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG5cdHdpZHRoOiAxMDAlO1xyXG5cdGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudChyZ2JhKDAsMCwwLDAuNCkscmdiYSgwLDAsMCwwLjQpKTtcclxuXHRiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XHJcblx0YmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcclxuXHRwb3NpdGlvbjogYWJzb2x1dGU7XHJcbn1cclxuLm5hdmJhclxyXG57XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIHBhZGRpbmc6IDIwcHg7XHJcbiAgICBwYWRkaW5nLWxlZnQ6IDUwcHg7XHJcbiAgICBwYWRkaW5nLXJpZ2h0OiAzMHB4O1xyXG4gICAgcGFkZGluZy10b3A6IDUwcHg7XHJcbn1cclxubmF2XHJcbntcclxuICAgIGZsZXg6IDE7XHJcbiAgICB0ZXh0LWFsaWduOiByaWdodDtcclxufVxyXG5uYXYgdWwgXHJcbntcclxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgIGxpc3Qtc3R5bGU6IG5vbmU7XHJcbn1cclxubmF2IHVsIGxpXHJcbntcclxuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgIG1hcmdpbi1yaWdodDogNzBweDtcclxufVxyXG5uYXYgdWwgbGkgYVxyXG57XHJcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbiAgICBmb250LXNpemU6IDIwcHg7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBmb250LWZhbWlseTogc2Fucy1zZXJpZjtcclxufVxyXG5uYXYgdWwgbGkgYnV0dG9uXHJcbntcclxuICAgIGZvbnQtc2l6ZTogMjBweDtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIG91dGxpbmU6IG5vbmU7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIGZvbnQtZmFtaWx5OiBzYW5zLXNlcmlmO1xyXG59XHJcbm5hdiB1bCBsaSBidXR0b246aG92ZXJcclxue1xyXG4gICAgY29sb3I6IGFxdWE7XHJcbn1cclxubmF2IHVsIGxpIGE6aG92ZXJcclxue1xyXG4gICAgY29sb3I6IGFxdWE7XHJcbn1cclxuYVxyXG57XHJcbiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbiAgICBjb2xvcjogcGFsZXZpb2xldHJlZDtcclxuICAgIGZvbnQtc2l6ZTogMjhweDtcclxufVxyXG4jbG9naW4tZm9ybVxyXG57XHJcbiAgICBkaXNwbGF5OiBub25lO1xyXG59XHJcblxyXG4uZm9ybS1ib3hcclxue1xyXG4gICAgd2lkdGg6MzgwcHg7XHJcblx0aGVpZ2h0OjQ4MHB4O1xyXG5cdHBvc2l0aW9uOnJlbGF0aXZlO1xyXG5cdG1hcmdpbjo5JSBhdXRvO1xyXG5cdGJhY2tncm91bmQ6cmdiYSgwLDAsMCwwLjMpO1xyXG5cdHBhZGRpbmc6MTBweDtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcblx0YWxpZ24taXRlbXM6IGNlbnRlcjtcclxuXHRqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxufVxyXG4uYnV0dG9uLWJveFxyXG57XHJcblx0d2lkdGg6MjIwcHg7XHJcblx0bWFyZ2luOjM1cHggYXV0bztcclxuXHRwb3NpdGlvbjpyZWxhdGl2ZTtcclxuXHRib3gtc2hhZG93OiAwIDAgMjBweCA5cHggI2ZmNjEyNDFmO1xyXG5cdGJvcmRlci1yYWRpdXM6IDMwcHg7XHJcbn1cclxuLnRvZ2dsZS1idG5cclxue1xyXG5cdHBhZGRpbmc6MTBweCAzMHB4O1xyXG5cdGN1cnNvcjpwb2ludGVyO1xyXG5cdGJhY2tncm91bmQ6dHJhbnNwYXJlbnQ7XHJcblx0Ym9yZGVyOjA7XHJcblx0b3V0bGluZTogbm9uZTtcclxuXHRwb3NpdGlvbjogcmVsYXRpdmU7XHJcbn1cclxuI2J0blxyXG57XHJcblx0dG9wOiAwO1xyXG5cdGxlZnQ6MDtcclxuXHRwb3NpdGlvbjogYWJzb2x1dGU7XHJcblx0d2lkdGg6IDExMHB4O1xyXG5cdGhlaWdodDogMTAwJTtcclxuXHRiYWNrZ3JvdW5kOiAjRjNDNjkzO1xyXG5cdGJvcmRlci1yYWRpdXM6IDMwcHg7XHJcblx0dHJhbnNpdGlvbjogLjVzO1xyXG59XHJcbmgxe1xyXG5cdHRvcDogODBweDtcclxuXHRwb3NpdGlvbjphYnNvbHV0ZTtcclxuXHRtYXJnaW4tbGVmdDogMTIwcHg7XHJcbn1cclxuLmlucHV0LWdyb3VwLWxvZ2luXHJcbntcclxuXHR0b3A6IDE1MHB4O1xyXG5cdHBvc2l0aW9uOmFic29sdXRlO1xyXG5cdHdpZHRoOjI4MHB4O1xyXG5cdHRyYW5zaXRpb246LjVzO1xyXG59XHJcbi5pbnB1dC1ncm91cC1yZWdpc3RlclxyXG57XHJcbiAgICB0b3A6IDEyMHB4O1xyXG5cdHBvc2l0aW9uOmFic29sdXRlO1xyXG5cdHdpZHRoOjI4MHB4O1xyXG5cdHRyYW5zaXRpb246LjVzO1xyXG59XHJcbi5pbnB1dC1maWVsZFxyXG57XHJcblx0d2lkdGg6IDEwMCU7XHJcblx0cGFkZGluZzoxMHB4IDA7XHJcblx0bWFyZ2luOjVweCAwO1xyXG5cdGJvcmRlci1sZWZ0OjA7XHJcblx0Ym9yZGVyLXRvcDowO1xyXG5cdGJvcmRlci1yaWdodDowO1xyXG5cdGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjOTk5O1xyXG5cdG91dGxpbmU6bm9uZTtcclxuXHRiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcclxufVxyXG4uc3VibWl0LWJ0blxyXG57XHJcblx0d2lkdGg6IDg1JTtcclxuXHRwYWRkaW5nOiAxMHB4IDMwcHg7XHJcblx0Y3Vyc29yOiBwb2ludGVyO1xyXG5cdGRpc3BsYXk6IGJsb2NrO1xyXG5cdG1hcmdpbjogYXV0bztcclxuXHRiYWNrZ3JvdW5kOiAjRjNDNjkzO1xyXG5cdGJvcmRlcjogMDtcclxuXHRvdXRsaW5lOiBub25lO1xyXG5cdGJvcmRlci1yYWRpdXM6IDMwcHg7XHJcbn1cclxuXHJcbi5jaGVjay1ib3hcclxue1xyXG5cdG1hcmdpbjogMzBweCAxMHB4IDM0cHggMDtcclxufVxyXG5zcGFuXHJcbntcclxuXHRjb2xvcjojNzc3O1xyXG5cdGZvbnQtc2l6ZToxMnB4O1xyXG5cdGJvdHRvbTo2OHB4O1xyXG5cdHBvc2l0aW9uOmFic29sdXRlO1xyXG59XHJcbiNsb2dpblxyXG57XHJcblx0bGVmdDo1MHB4O1xyXG59XHJcbiNsb2dpbiBpbnB1dFxyXG57XHJcblx0Y29sb3I6d2hpdGU7XHJcblx0Zm9udC1zaXplOjE1O1xyXG59XHJcbiNyZWdpc3RlclxyXG57XHJcblx0bGVmdDo0NTBweDtcclxufVxyXG4jcmVnaXN0ZXIgaW5wdXRcclxue1xyXG5cdGNvbG9yOndoaXRlO1xyXG5cdGZvbnQtc2l6ZTogMTU7XHJcbn1cclxuLmNyXHJcbntcclxuXHR3aWR0aDogNjUlO1xyXG5cdHBhZGRpbmc6IDEwcHggMzBweDtcclxuXHRjdXJzb3I6IHBvaW50ZXI7XHJcblx0ZGlzcGxheTogYmxvY2s7XHJcblx0bWFyZ2luOiBhdXRvO1xyXG5cdGJhY2tncm91bmQ6ICMxZDNlZjc7XHJcblx0Ym9yZGVyOiAwO1xyXG5cdG91dGxpbmU6IG5vbmU7XHJcblx0Ym9yZGVyLXJhZGl1czogMzBweDtcclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});\nexport { LoginComponent };","map":{"version":3,"names":["FormControl","FormGroup","Validators","LoginComponent","constructor","httpservice","router","userAuth","ngOnInit","initForm","formGroup","username","required","password","loginProcess","valid","getToken","value","subscribe","result","md","med","console","log","prenom","alert","role","navigate","HttpService","etat","error","i0","ɵɵdirectiveInject","i1","i2","Router","i3","UserAuthServiceService","selectors","decls","vars","consts","template","LoginComponent_Template","rf","ctx","ɵɵelement","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","LoginComponent_Template_form_ngSubmit_4_listener","ɵɵadvance","ɵɵproperty"],"sources":["C:\\Users\\lenovo\\Music\\hat\\front-end2\\CAB\\src\\app\\Componenets\\login\\login.component.ts","C:\\Users\\lenovo\\Music\\hat\\front-end2\\CAB\\src\\app\\Componenets\\login\\login.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { signinrequest } from 'src/app/Models/signinrequest';\nimport {FormBuilder,FormControl,FormGroup, Validators } from '@angular/forms';\nimport { HttpService } from 'src/app/Services/http.service';\nimport { Token } from '@angular/compiler';\nimport { UserAuthServiceService } from 'src/app/Services/user-auth-service.service';\nimport { Medecin } from 'src/app/Models/Medecin';\n\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent {\n  formGroup: FormGroup;\n  med:Medecin;\n  test:String;\n  constructor(private httpservice: HttpService,private router:Router , private userAuth:UserAuthServiceService){}\n  ngOnInit(): void {\n    this.initForm()\n  }\n  initForm(){\n    this.formGroup=new FormGroup({\n      username:new FormControl(\"\",[Validators.required]),\n      password:new FormControl(\"\",[Validators.required]),\n    });\n  }\n  loginProcess(){\n    if(this.formGroup.valid){\n      this.httpservice.getToken(this.formGroup.value).subscribe((result: any)=>{\n        \n/*console.log(result);\n          this.userAuth.setRoles(result.user.role);\n\n          const role = result.user.role[0].rolename;\n        if (role === 'Admin') {\n          this.router.navigate(['/admin']);\n        } else {\n          this.router.navigate(['/user']);\n\n        }*/\n        this.httpservice.md=result.med;\n        \nconsole.log(this.httpservice.md.prenom);\nconsole.log(this.httpservice.md.prenom);\n\nconsole.log('____________tt___________');\n//console.log(result.user.username);\n//console.log(this.httpservice.login(result.token));\n//console.log(this.httpservice.getCurrentUser);\nalert(this.httpservice.md.role);\n       if(this.httpservice.md.role=='medcin'){\n        this.router.navigate(['Admin']);\n       }else if(this.httpservice.md.role=='seretaire'){\n        console.log(this.HttpService.md.etat)\n        this.router.navigate(['patients']);\n       }\n\n        \n        },\n        (error)=>{ //this.router.navigate([\"/Admin\"]);\n          alert(\"pwd or email is incorrect\");\n          \n        }\n      );\n    }\n  }\n}","<app-started></app-started>\n\n            <div class=\"form-box\">\n                \n               \n                <h1 style=\"color: azure;\">\n                    \n                        Log in\n                    </h1>\n                    \n                <form [formGroup]=\"formGroup\" (ngSubmit)=\"loginProcess()\" id='login' class='input-group-login'>\n                    \n                    <input type='text' class='input-field'placeholder='Email Id' name=\"email\" formControlName=\"username\"/>\n\t\t    <input type='password' class='input-field'placeholder='Enter Password' name=\"pwd\" formControlName=\"password\" />\n\t\t    <input type='checkbox'class='check-box'><span>Remember Password</span>\n\t\t    <button type='submit'class='submit-btn' > Log in</button>\n     \n\t\t </form>\n         <br><br><br><br><br><br><br><br><br>\n         <br><br><br><br><br><br><br><br><br><br><br><hr>\n         <br>\n         <button type='submit'class='cr' routerLink=\"/register\">créer nouveau compte</button>\n           \n        </div>\n    \n\n        "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}